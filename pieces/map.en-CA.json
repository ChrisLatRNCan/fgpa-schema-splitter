{
  "type": "object",
  "description": "Core map properties (extent sets, levels of detail)",
  "properties": {
    "extentSets": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "[en]"
          },
          "spatialReference": {
            "description": "extentSetNode.spatialReference.description",
            "title": "[en]",
            "type": "object",
            "properties": {
              "wkid": {
                "type": "number",
                "title": "[en]"
              },
              "vcsWkid": {
                "type": "number",
                "title": "[en]"
              },
              "latestWkid": {
                "type": "number",
                "title": "[en]"
              },
              "latestVcsWkid": {
                "type": "number",
                "title": "[en]"
              },
              "wkt": {
                "type": "string",
                "title": "[en]"
              }
            },
            "anyOf": [
              {
                "required": [
                  "wkid"
                ]
              },
              {
                "required": [
                  "vcsWkid"
                ]
              },
              {
                "required": [
                  "latestWkid"
                ]
              },
              {
                "required": [
                  "latestVcsWkid"
                ]
              },
              {
                "required": [
                  "wkt"
                ]
              }
            ],
            "additionalProperties": false,
            "schema": "spatialReferenceNode"
          },
          "default": {
            "description": "extentSetNode.default.description",
            "title": "[en]",
            "type": "object",
            "properties": {
              "xmin": {
                "type": "number",
                "title": "[en]"
              },
              "ymin": {
                "type": "number",
                "title": "[en]"
              },
              "xmax": {
                "type": "number",
                "title": "[en]"
              },
              "ymax": {
                "type": "number",
                "title": "[en]"
              }
            },
            "required": [
              "xmin",
              "ymin",
              "xmax",
              "ymax"
            ],
            "additionalProperties": false,
            "schema": "extentNode"
          },
          "full": {
            "description": "extentSetNode.full.description",
            "title": "[en]",
            "type": "object",
            "properties": {
              "xmin": {
                "type": "number",
                "title": "[en]"
              },
              "ymin": {
                "type": "number",
                "title": "[en]"
              },
              "xmax": {
                "type": "number",
                "title": "[en]"
              },
              "ymax": {
                "type": "number",
                "title": "[en]"
              }
            },
            "required": [
              "xmin",
              "ymin",
              "xmax",
              "ymax"
            ],
            "additionalProperties": false,
            "schema": "extentNode"
          },
          "maximum": {
            "description": "extentSetNode.maximum.description",
            "title": "[en]",
            "type": "object",
            "properties": {
              "xmin": {
                "type": "number",
                "title": "[en]"
              },
              "ymin": {
                "type": "number",
                "title": "[en]"
              },
              "xmax": {
                "type": "number",
                "title": "[en]"
              },
              "ymax": {
                "type": "number",
                "title": "[en]"
              }
            },
            "required": [
              "xmin",
              "ymin",
              "xmax",
              "ymax"
            ],
            "additionalProperties": false,
            "schema": "extentNode"
          }
        },
        "required": [
          "id",
          "default",
          "spatialReference"
        ],
        "additionalProperties": false,
        "schema": "extentSetNode",
        "title": "[en]"
      },
      "description": "The default, full and maximum extents of the map",
      "title": "[en]"
    },
    "lodSets": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "[en]"
          },
          "lods": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "level": {
                  "type": "number"
                },
                "resolution": {
                  "type": "number"
                },
                "scale": {
                  "type": "number"
                }
              },
              "required": [
                "level",
                "resolution",
                "scale"
              ],
              "additionalProperties": false
            },
            "description": "lodSetNode.lods.description",
            "title": "[en]"
          }
        },
        "required": [
          "id",
          "lods"
        ],
        "additionalProperties": false,
        "schema": "lodSetNode",
        "title": "[en]"
      },
      "description": "The levels of detail (zoom scales) available for the map",
      "title": "[en]"
    },
    "tileSchemas": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "tileSchemaNode.id.description",
            "title": "[en]"
          },
          "name": {
            "type": "string",
            "description": "tileSchemaNode.name.description",
            "title": "[en]"
          },
          "extentSetId": {
            "type": "string",
            "description": "tileSchemaNode.extentSetId.description",
            "title": "[en]"
          },
          "lodSetId": {
            "type": "string",
            "description": "tileSchemaNode.lodSetId.description",
            "title": "[en]"
          },
          "overviewUrl": {
            "description": "tileSchemaNode.overviewUrl.description",
            "title": "[en]",
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "basicLayerNode.id.description",
                "title": "[en]"
              },
              "name": {
                "type": "string",
                "description": "basicLayerNode.name.description",
                "title": "[en]"
              },
              "url": {
                "type": "string",
                "description": "basicLayerNode.url.description",
                "title": "[en]"
              },
              "metadataUrl": {
                "type": "string",
                "default": null,
                "description": "basicLayerNode.metadataUrl.description",
                "title": "[en]"
              },
              "catalogueUrl": {
                "type": "string",
                "default": null,
                "description": "basicLayerNode.catalogueUrl.description",
                "title": "[en]"
              },
              "layerType": {
                "type": "string",
                "enum": [
                  "esriImage",
                  "esriTile"
                ],
                "title": "[en]"
              },
              "extent": {
                "title": "[en]",
                "type": "object",
                "properties": {
                  "xmin": {
                    "type": "number",
                    "title": "[en]"
                  },
                  "ymin": {
                    "type": "number",
                    "title": "[en]"
                  },
                  "xmax": {
                    "type": "number",
                    "title": "[en]"
                  },
                  "ymax": {
                    "type": "number",
                    "title": "[en]"
                  },
                  "spatialReference": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "wkid": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "vcsWkid": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "latestWkid": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "latestVcsWkid": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "wkt": {
                        "type": "string",
                        "title": "[en]"
                      }
                    },
                    "anyOf": [
                      {
                        "required": [
                          "wkid"
                        ]
                      },
                      {
                        "required": [
                          "vcsWkid"
                        ]
                      },
                      {
                        "required": [
                          "latestWkid"
                        ]
                      },
                      {
                        "required": [
                          "latestVcsWkid"
                        ]
                      },
                      {
                        "required": [
                          "wkt"
                        ]
                      }
                    ],
                    "additionalProperties": false,
                    "schema": "spatialReferenceNode"
                  }
                },
                "required": [
                  "xmin",
                  "ymin",
                  "xmax",
                  "ymax"
                ],
                "additionalProperties": false,
                "schema": "extentWithReferenceNode"
              },
              "controls": {
                "title": "[en]",
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": [
                    "opacity",
                    "visibility",
                    "boundingBox",
                    "query",
                    "snapshot",
                    "metadata",
                    "boundaryZoom",
                    "refresh",
                    "reload",
                    "remove",
                    "settings",
                    "data",
                    "styles"
                  ]
                },
                "uniqueItems": true,
                "description": "legendEntryControls.description",
                "schema": "legendEntryControls"
              },
              "disabledControls": {
                "description": "basicLayerNode.disabledControls.description",
                "title": "[en]",
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": [
                    "opacity",
                    "visibility",
                    "boundingBox",
                    "query",
                    "snapshot",
                    "metadata",
                    "boundaryZoom",
                    "refresh",
                    "reload",
                    "remove",
                    "settings",
                    "data",
                    "styles"
                  ]
                },
                "uniqueItems": true,
                "schema": "legendEntryControls"
              },
              "state": {
                "title": "[en]",
                "type": "object",
                "properties": {
                  "opacity": {
                    "type": "number",
                    "default": 1,
                    "description": "initialLayerSettings.opacity.description",
                    "title": "[en]"
                  },
                  "visibility": {
                    "type": "boolean",
                    "default": true,
                    "description": "initialLayerSettings.visibility.description",
                    "title": "[en]"
                  },
                  "boundingBox": {
                    "type": "boolean",
                    "default": false,
                    "description": "initialLayerSettings.boundingBox.description",
                    "title": "[en]"
                  },
                  "query": {
                    "type": "boolean",
                    "default": true,
                    "description": "initialLayerSettings.query.description",
                    "title": "[en]"
                  },
                  "snapshot": {
                    "type": "boolean",
                    "default": false,
                    "description": "initialLayerSettings.snapshot.description",
                    "title": "[en]"
                  },
                  "hovertips": {
                    "type": "boolean",
                    "default": true,
                    "description": "initialLayerSettings.hovertips.description",
                    "title": "[en]"
                  }
                },
                "additionalProperties": false,
                "schema": "initialLayerSettings"
              }
            },
            "required": [
              "id",
              "layerType",
              "url"
            ],
            "additionalProperties": false,
            "schema": "basicLayerNode"
          }
        },
        "required": [
          "extentSetId",
          "lodSetId",
          "id",
          "name"
        ],
        "additionalProperties": false,
        "schema": "tileSchemaNode",
        "title": "[en]"
      },
      "minItems": 1,
      "description": "A unique combination of an LoD and an extent set (each basemap must fit into a tile schema)",
      "title": "[en]"
    },
    "components": {
      "type": "object",
      "properties": {
        "geoSearch": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "[en]"
            },
            "showGraphic": {
              "type": "boolean",
              "title": "[en]"
            },
            "showInfo": {
              "type": "boolean",
              "title": "[en]"
            }
          },
          "title": "[en]"
        },
        "mouseInfo": {
          "type": "object",
          "properties": {
            "spatialReference": {
              "title": "[en]",
              "type": "object",
              "properties": {
                "wkid": {
                  "type": "number",
                  "title": "[en]"
                },
                "vcsWkid": {
                  "type": "number",
                  "title": "[en]"
                },
                "latestWkid": {
                  "type": "number",
                  "title": "[en]"
                },
                "latestVcsWkid": {
                  "type": "number",
                  "title": "[en]"
                },
                "wkt": {
                  "type": "string",
                  "title": "[en]"
                }
              },
              "anyOf": [
                {
                  "required": [
                    "wkid"
                  ]
                },
                {
                  "required": [
                    "vcsWkid"
                  ]
                },
                {
                  "required": [
                    "latestWkid"
                  ]
                },
                {
                  "required": [
                    "latestVcsWkid"
                  ]
                },
                {
                  "required": [
                    "wkt"
                  ]
                }
              ],
              "additionalProperties": false,
              "schema": "spatialReferenceNode"
            }
          },
          "title": "[en]"
        },
        "northArrow": {
          "type": "object",
          "title": "[en]"
        },
        "overviewMap": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "title": "[en]"
            },
            "expandFactor": {
              "type": "number",
              "default": 2,
              "title": "[en]"
            }
          },
          "title": "[en]"
        },
        "scaleBar": {
          "type": "object",
          "title": "[en]"
        },
        "basemap": {
          "type": "object",
          "title": "[en]"
        }
      },
      "additionalProperties": false,
      "schema": "mapComponentsNode",
      "title": "[en]"
    },
    "initialBasemapId": {
      "type": "string",
      "description": "Initial basemap to load. If not supplied viewer will select any basemap.",
      "title": "[en]"
    },
    "baseMaps": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "baseMapNode.id.description",
            "title": "[en]"
          },
          "name": {
            "type": "string",
            "description": "baseMapNode.name.description",
            "title": "[en]"
          },
          "description": {
            "type": "string",
            "description": "baseMapNode.description.description",
            "title": "[en]"
          },
          "typeSummary": {
            "type": "string",
            "description": "baseMapNode.typeSummary.description",
            "title": "[en]"
          },
          "altText": {
            "type": "string",
            "description": "baseMapNode.altText.description",
            "title": "[en]"
          },
          "thumbnailUrl": {
            "type": "string",
            "description": "baseMapNode.thumbnailUrl.description",
            "title": "[en]"
          },
          "tileSchemaId": {
            "type": "string",
            "description": "baseMapNode.tileSchemaId.description",
            "title": "[en]"
          },
          "layers": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "default": ""
                },
                "layerType": {
                  "type": "string",
                  "default": ""
                },
                "url": {
                  "type": "string",
                  "default": ""
                }
              },
              "additionalProperties": false,
              "required": [
                "id",
                "layerType",
                "url"
              ]
            },
            "minItems": 1,
            "description": "baseMapNode.layers.description",
            "title": "[en]"
          },
          "attribution": {
            "title": "[en]",
            "type": "object",
            "properties": {
              "text": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean",
                    "default": true,
                    "title": "[en]"
                  },
                  "value": {
                    "type": "string",
                    "description": "attributionNode.text.value.description",
                    "title": "[en]"
                  }
                },
                "required": [
                  "enabled"
                ],
                "additionalProperties": false,
                "title": "[en]"
              },
              "logo": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean",
                    "default": true,
                    "title": "[en]"
                  },
                  "value": {
                    "type": "string",
                    "description": "attributionNode.logo.value.description",
                    "title": "[en]"
                  },
                  "link": {
                    "type": "string",
                    "description": "attributionNode.logo.link.description",
                    "title": "[en]"
                  }
                },
                "required": [
                  "enabled"
                ],
                "additionalProperties": false,
                "title": "[en]"
              }
            },
            "required": [
              "text",
              "logo"
            ],
            "additionalProperties": false,
            "schema": "attributionNode"
          },
          "zoomLevels": {
            "type": "object",
            "properties": {
              "min": {
                "type": "number",
                "title": "[en]"
              },
              "max": {
                "type": "number",
                "title": "[en]"
              }
            },
            "default": {},
            "additionalProperties": false,
            "title": "[en]"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "layers",
          "altText",
          "tileSchemaId"
        ],
        "additionalProperties": false,
        "schema": "baseMapNode",
        "title": "[en]"
      },
      "minItems": 1,
      "description": "A list of basemaps to be made available via the basemap selector.",
      "title": "[en]"
    },
    "layers": {
      "description": "Layer list in the order which they should be added to the map.  NOTE: ESRI JSAPI v3 cannot draw imagery layers over feature layers.",
      "type": "array",
      "items": {
        "oneOf": [
          {
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "basicLayerNode.id.description",
                    "title": "[en]"
                  },
                  "name": {
                    "type": "string",
                    "description": "basicLayerNode.name.description",
                    "title": "[en]"
                  },
                  "url": {
                    "type": "string",
                    "description": "basicLayerNode.url.description",
                    "title": "[en]"
                  },
                  "metadataUrl": {
                    "type": "string",
                    "default": null,
                    "description": "basicLayerNode.metadataUrl.description",
                    "title": "[en]"
                  },
                  "catalogueUrl": {
                    "type": "string",
                    "default": null,
                    "description": "basicLayerNode.catalogueUrl.description",
                    "title": "[en]"
                  },
                  "layerType": {
                    "type": "string",
                    "enum": [
                      "esriImage",
                      "esriTile"
                    ],
                    "title": "[en]"
                  },
                  "extent": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "xmin": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "ymin": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "xmax": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "ymax": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "spatialReference": {
                        "title": "[en]",
                        "type": "object",
                        "properties": {
                          "wkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "vcsWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "latestWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "latestVcsWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "wkt": {
                            "type": "string",
                            "title": "[en]"
                          }
                        },
                        "anyOf": [
                          {
                            "required": [
                              "wkid"
                            ]
                          },
                          {
                            "required": [
                              "vcsWkid"
                            ]
                          },
                          {
                            "required": [
                              "latestWkid"
                            ]
                          },
                          {
                            "required": [
                              "latestVcsWkid"
                            ]
                          },
                          {
                            "required": [
                              "wkt"
                            ]
                          }
                        ],
                        "additionalProperties": false,
                        "schema": "spatialReferenceNode"
                      }
                    },
                    "required": [
                      "xmin",
                      "ymin",
                      "xmax",
                      "ymax"
                    ],
                    "additionalProperties": false,
                    "schema": "extentWithReferenceNode"
                  },
                  "controls": {
                    "title": "[en]",
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "opacity",
                        "visibility",
                        "boundingBox",
                        "query",
                        "snapshot",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "data",
                        "styles"
                      ]
                    },
                    "uniqueItems": true,
                    "description": "legendEntryControls.description",
                    "schema": "legendEntryControls"
                  },
                  "disabledControls": {
                    "description": "basicLayerNode.disabledControls.description",
                    "title": "[en]",
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "opacity",
                        "visibility",
                        "boundingBox",
                        "query",
                        "snapshot",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "data",
                        "styles"
                      ]
                    },
                    "uniqueItems": true,
                    "schema": "legendEntryControls"
                  },
                  "state": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "opacity": {
                        "type": "number",
                        "default": 1,
                        "description": "initialLayerSettings.opacity.description",
                        "title": "[en]"
                      },
                      "visibility": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.visibility.description",
                        "title": "[en]"
                      },
                      "boundingBox": {
                        "type": "boolean",
                        "default": false,
                        "description": "initialLayerSettings.boundingBox.description",
                        "title": "[en]"
                      },
                      "query": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.query.description",
                        "title": "[en]"
                      },
                      "snapshot": {
                        "type": "boolean",
                        "default": false,
                        "description": "initialLayerSettings.snapshot.description",
                        "title": "[en]"
                      },
                      "hovertips": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.hovertips.description",
                        "title": "[en]"
                      }
                    },
                    "additionalProperties": false,
                    "schema": "initialLayerSettings"
                  }
                },
                "required": [
                  "id",
                  "layerType",
                  "url"
                ],
                "additionalProperties": false,
                "schema": "basicLayerNode",
                "title": "[en]"
              },
              {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "The id of the layer for referencing within the viewer (does not relate directly to any external service)",
                    "title": "[en]"
                  },
                  "name": {
                    "type": "string",
                    "description": "The display name of the layer.  If it is not present the viewer will make an attempt to scrape this information.",
                    "title": "[en]"
                  },
                  "nameField": {
                    "type": "string",
                    "description": "The display field of the layer.  If it is not present the viewer will make an attempt to scrape this information.",
                    "title": "[en]"
                  },
                  "url": {
                    "type": "string",
                    "description": "The service endpoint of the layer.  It should match the type provided in layerType.",
                    "title": "[en]"
                  },
                  "metadataUrl": {
                    "type": "string",
                    "default": null,
                    "description": "The metadata url of the layer service",
                    "title": "[en]"
                  },
                  "catalogueUrl": {
                    "type": "string",
                    "default": null,
                    "description": "The catalogue url of the layer service",
                    "title": "[en]"
                  },
                  "layerType": {
                    "type": "string",
                    "enum": [
                      "esriFeature"
                    ],
                    "title": "[en]"
                  },
                  "toggleSymbology": {
                    "type": "boolean",
                    "default": true,
                    "description": "Allows individual symbols to have visibility toggled on/off.",
                    "title": "[en]"
                  },
                  "tolerance": {
                    "type": "number",
                    "default": 5,
                    "description": "Specifies the tolerance in pixels when determining if a feature was clicked. Should be non-negative integer",
                    "title": "[en]"
                  },
                  "extent": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "xmin": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "ymin": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "xmax": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "ymax": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "spatialReference": {
                        "title": "[en]",
                        "type": "object",
                        "properties": {
                          "wkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "vcsWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "latestWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "latestVcsWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "wkt": {
                            "type": "string",
                            "title": "[en]"
                          }
                        },
                        "anyOf": [
                          {
                            "required": [
                              "wkid"
                            ]
                          },
                          {
                            "required": [
                              "vcsWkid"
                            ]
                          },
                          {
                            "required": [
                              "latestWkid"
                            ]
                          },
                          {
                            "required": [
                              "latestVcsWkid"
                            ]
                          },
                          {
                            "required": [
                              "wkt"
                            ]
                          }
                        ],
                        "additionalProperties": false,
                        "schema": "spatialReferenceNode"
                      }
                    },
                    "required": [
                      "xmin",
                      "ymin",
                      "xmax",
                      "ymax"
                    ],
                    "additionalProperties": false,
                    "schema": "extentWithReferenceNode"
                  },
                  "controls": {
                    "title": "[en]",
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "opacity",
                        "visibility",
                        "boundingBox",
                        "query",
                        "snapshot",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "data",
                        "styles"
                      ]
                    },
                    "uniqueItems": true,
                    "description": "A list of all controls to be enabled on the specified layer",
                    "schema": "legendEntryControls"
                  },
                  "disabledControls": {
                    "description": "A list of controls which are visible, but disabled for user modification",
                    "title": "[en]",
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "opacity",
                        "visibility",
                        "boundingBox",
                        "query",
                        "snapshot",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "data",
                        "styles"
                      ]
                    },
                    "uniqueItems": true,
                    "schema": "legendEntryControls"
                  },
                  "state": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "opacity": {
                        "type": "number",
                        "default": 1,
                        "description": "initialLayerSettings.opacity.description",
                        "title": "[en]"
                      },
                      "visibility": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.visibility.description",
                        "title": "[en]"
                      },
                      "boundingBox": {
                        "type": "boolean",
                        "default": false,
                        "description": "initialLayerSettings.boundingBox.description",
                        "title": "[en]"
                      },
                      "query": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.query.description",
                        "title": "[en]"
                      },
                      "snapshot": {
                        "type": "boolean",
                        "default": false,
                        "description": "initialLayerSettings.snapshot.description",
                        "title": "[en]"
                      },
                      "hovertips": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.hovertips.description",
                        "title": "[en]"
                      }
                    },
                    "additionalProperties": false,
                    "schema": "initialLayerSettings"
                  },
                  "table": {
                    "description": "Settings for the table",
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "title": {
                        "type": "string",
                        "default": "",
                        "description": "Specifies the table title to apply.",
                        "title": "[en]"
                      },
                      "description": {
                        "type": "string",
                        "description": "Specifies the additional information to display in the setting panel to give more information about a table.",
                        "title": "[en]"
                      },
                      "maximize": {
                        "type": "boolean",
                        "default": false,
                        "description": "Specifies the default table size when first open. True: maximize view; False: split view.",
                        "title": "[en]"
                      },
                      "search": {
                        "enabled": {
                          "type": "boolean",
                          "default": true
                        },
                        "value": {
                          "type": "string",
                          "default": null,
                          "description": "Specifies the default filter to apply to a table (for global search)."
                        },
                        "title": "[en]"
                      },
                      "applyMap": {
                        "type": "boolean",
                        "default": false,
                        "description": "Specifies if the default filters (from columns filter) are apply to the map (definition query). True: it is applied; False: it is not applied.",
                        "title": "[en]"
                      },
                      "columns": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "data": {
                              "type": "string",
                              "description": "Specifies the field name (data) to use to link to the layer column. Must exist in the layer.",
                              "title": "[en]"
                            },
                            "title": {
                              "type": "string",
                              "description": "Specifies the column title, uses the layer column name or alias if missing.",
                              "title": "[en]"
                            },
                            "description": {
                              "type": "string",
                              "description": "Specifies the additional information to display in the setting panel to give more information about a column. Do not add description if missing.",
                              "title": "[en]"
                            },
                            "visible": {
                              "type": "boolean",
                              "default": true,
                              "description": "Specifies if column is visible by default. True: column is visible; False: column is hidden.",
                              "title": "[en]"
                            },
                            "width": {
                              "type": "number",
                              "description": "Specifies the column width. If missing, calculated column width will be use.",
                              "title": "[en]"
                            },
                            "sort": {
                              "type": "string",
                              "enum": [
                                "asc",
                                "desc"
                              ],
                              "description": "Specifies if column is sort. If missing, no sort is applied.",
                              "title": "[en]"
                            },
                            "searchable": {
                              "type": "boolean",
                              "default": true,
                              "description": "Specifies if column can be filter. True: column can be filter; False: no filter can be applied from global search or filter. If this is false, do not set a filter because it will not be use.",
                              "title": "[en]"
                            },
                            "filter": {
                              "title": "[en]",
                              "type": "object",
                              "description": "Specifies the filter information for a column.",
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "string",
                                    "number",
                                    "date",
                                    "selector"
                                  ],
                                  "description": "Specifies the filter type to use. If type is not specified, data field type will be use. String filter can be string or selector. Other filter must be the same type. If not, apply on map will fails.",
                                  "title": "[en]"
                                },
                                "value": {
                                  "type": "string",
                                  "default": "",
                                  "description": "Specifies the filter value. For date and number values are split by ',' (e.g. 0,100). For selector it needs an array like ["Fire",
                                  "title": "[en]"
                                },
                                "static": {
                                  "type": "boolean",
                                  "default": false,
                                  "description": "Specifies if filter is modifiable. True: filter value can't be modified; False: filter value can be modified.",
                                  "title": "[en]"
                                }
                              },
                              "required": [
                                "type"
                              ],
                              "additionalProperties": false,
                              "schema": "filterNode"
                            }
                          },
                          "required": [
                            "data"
                          ],
                          "additionalProperties": false,
                          "description": "Specifies option for each column. OID field must be present, if not data will not appear. The order they appears inside the table is the same as the order of this array.",
                          "schema": "columnNode",
                          "title": "[en]"
                        },
                        "description": "Specifies the array of columns for the table. When there is an item in this array, it will be use to define wich and how column will be set for the table. If a column is not in the array it will be assume as disabled.",
                        "title": "[en]"
                      }
                    },
                    "additionalProperties": false,
                    "schema": "tableNode"
                  }
                },
                "required": [
                  "id",
                  "layerType",
                  "url"
                ],
                "additionalProperties": false,
                "schema": "featureLayerNode",
                "title": "[en]"
              },
              {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "The id of the layer for referencing within the viewer (does not relate directly to any external service)",
                    "title": "[en]"
                  },
                  "name": {
                    "type": "string",
                    "description": "The display name of the layer.  If it is not present the viewer will make an attempt to scrape this information.",
                    "title": "[en]"
                  },
                  "url": {
                    "type": "string",
                    "description": "The service endpoint of the layer.  It should match the type provided in layerType.",
                    "title": "[en]"
                  },
                  "metadataUrl": {
                    "type": "string",
                    "default": null,
                    "description": "The metadata url of the layer service",
                    "title": "[en]"
                  },
                  "catalogueUrl": {
                    "type": "string",
                    "default": null,
                    "description": "The catalogue url of the layer service",
                    "title": "[en]"
                  },
                  "layerEntries": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "The id of the layer entry in the WMS",
                          "title": "[en]"
                        },
                        "name": {
                          "type": "string",
                          "description": "A descriptive name for the layer.  To be used in the legend.",
                          "title": "[en]"
                        },
                        "allStyles": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "All the styles for the layer entry in the WMS",
                          "title": "[en]"
                        },
                        "currentStyle": {
                          "type": "string",
                          "description": "The current style for the layer entry in the WMS",
                          "title": "[en]"
                        },
                        "controls": {
                          "title": "[en]",
                          "type": "array",
                          "items": {
                            "type": "string",
                            "enum": [
                              "opacity",
                              "visibility",
                              "boundingBox",
                              "query",
                              "snapshot",
                              "metadata",
                              "boundaryZoom",
                              "refresh",
                              "reload",
                              "remove",
                              "settings",
                              "data",
                              "styles"
                            ]
                          },
                          "uniqueItems": true,
                          "description": "A list of all controls to be enabled on the specified layer",
                          "schema": "legendEntryControls"
                        },
                        "state": {
                          "title": "[en]",
                          "type": "object",
                          "properties": {
                            "opacity": {
                              "type": "number",
                              "default": 1,
                              "description": "initialLayerSettings.opacity.description",
                              "title": "[en]"
                            },
                            "visibility": {
                              "type": "boolean",
                              "default": true,
                              "description": "initialLayerSettings.visibility.description",
                              "title": "[en]"
                            },
                            "boundingBox": {
                              "type": "boolean",
                              "default": false,
                              "description": "initialLayerSettings.boundingBox.description",
                              "title": "[en]"
                            },
                            "query": {
                              "type": "boolean",
                              "default": true,
                              "description": "initialLayerSettings.query.description",
                              "title": "[en]"
                            },
                            "snapshot": {
                              "type": "boolean",
                              "default": false,
                              "description": "initialLayerSettings.snapshot.description",
                              "title": "[en]"
                            },
                            "hovertips": {
                              "type": "boolean",
                              "default": true,
                              "description": "initialLayerSettings.hovertips.description",
                              "title": "[en]"
                            }
                          },
                          "additionalProperties": false,
                          "schema": "initialLayerSettings"
                        }
                      },
                      "required": [
                        "id"
                      ],
                      "additionalProperties": false,
                      "schema": "wmsLayerEntryNode",
                      "title": "[en]"
                    },
                    "minItems": 1,
                    "title": "[en]"
                  },
                  "layerType": {
                    "type": "string",
                    "enum": [
                      "ogcWms"
                    ],
                    "title": "[en]"
                  },
                  "featureInfoMimeType": {
                    "type": "string",
                    "enum": [
                      "text/html;fgpv=summary",
                      "text/html",
                      "text/plain",
                      "application/json"
                    ],
                    "description": "If specified indicates that GetFeatureInfo should be enabled for this WMS and indicates the format that should be requested.",
                    "title": "[en]"
                  },
                  "legendMimeType": {
                    "type": "string",
                    "enum": [
                      "image/png",
                      "image/gif",
                      "image/jpeg",
                      "image/svg",
                      "image/svg"xml"
                    ],
                    "description": "If specified indicates that GetLegendGraphic should be enabled for this WMS and indicates the format that should be requested.  FIXME check legendUrl for additional requirements",
                    "title": "[en]"
                  },
                  "extent": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "xmin": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "ymin": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "xmax": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "ymax": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "spatialReference": {
                        "title": "[en]",
                        "type": "object",
                        "properties": {
                          "wkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "vcsWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "latestWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "latestVcsWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "wkt": {
                            "type": "string",
                            "title": "[en]"
                          }
                        },
                        "anyOf": [
                          {
                            "required": [
                              "wkid"
                            ]
                          },
                          {
                            "required": [
                              "vcsWkid"
                            ]
                          },
                          {
                            "required": [
                              "latestWkid"
                            ]
                          },
                          {
                            "required": [
                              "latestVcsWkid"
                            ]
                          },
                          {
                            "required": [
                              "wkt"
                            ]
                          }
                        ],
                        "additionalProperties": false,
                        "schema": "spatialReferenceNode"
                      }
                    },
                    "required": [
                      "xmin",
                      "ymin",
                      "xmax",
                      "ymax"
                    ],
                    "additionalProperties": false,
                    "schema": "extentWithReferenceNode"
                  },
                  "controls": {
                    "title": "[en]",
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "opacity",
                        "visibility",
                        "boundingBox",
                        "query",
                        "snapshot",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "data",
                        "styles"
                      ]
                    },
                    "uniqueItems": true,
                    "description": "A list of all controls to be enabled on the specified layer",
                    "schema": "legendEntryControls"
                  },
                  "disabledControls": {
                    "description": "A list of controls which are visible, but disabled for user modification",
                    "title": "[en]",
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "opacity",
                        "visibility",
                        "boundingBox",
                        "query",
                        "snapshot",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "data",
                        "styles"
                      ]
                    },
                    "uniqueItems": true,
                    "schema": "legendEntryControls"
                  },
                  "state": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "opacity": {
                        "type": "number",
                        "default": 1,
                        "description": "initialLayerSettings.opacity.description",
                        "title": "[en]"
                      },
                      "visibility": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.visibility.description",
                        "title": "[en]"
                      },
                      "boundingBox": {
                        "type": "boolean",
                        "default": false,
                        "description": "initialLayerSettings.boundingBox.description",
                        "title": "[en]"
                      },
                      "query": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.query.description",
                        "title": "[en]"
                      },
                      "snapshot": {
                        "type": "boolean",
                        "default": false,
                        "description": "initialLayerSettings.snapshot.description",
                        "title": "[en]"
                      },
                      "hovertips": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.hovertips.description",
                        "title": "[en]"
                      }
                    },
                    "additionalProperties": false,
                    "schema": "initialLayerSettings"
                  }
                },
                "required": [
                  "id",
                  "layerType",
                  "layerEntries",
                  "url"
                ],
                "additionalProperties": false,
                "schema": "wmsLayerNode",
                "title": "[en]"
              },
              {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "The id of the layer for referencing within the viewer (does not relate directly to any external service)",
                    "title": "[en]"
                  },
                  "name": {
                    "type": "string",
                    "description": "The display name of the layer.  If it is not present the viewer will make an attempt to scrape this information.",
                    "title": "[en]"
                  },
                  "url": {
                    "type": "string",
                    "description": "The service endpoint of the layer.  It should match the type provided in layerType.",
                    "title": "[en]"
                  },
                  "metadataUrl": {
                    "type": "string",
                    "default": null,
                    "description": "The metadata url of the layer service",
                    "title": "[en]"
                  },
                  "catalogueUrl": {
                    "type": "string",
                    "default": null,
                    "description": "The catalogue url of the layer service",
                    "title": "[en]"
                  },
                  "layerType": {
                    "type": "string",
                    "enum": [
                      "esriDynamic"
                    ],
                    "title": "[en]"
                  },
                  "toggleSymbology": {
                    "type": "boolean",
                    "default": true,
                    "description": "Allows individual symbols to have visibility toggled on/off.",
                    "title": "[en]"
                  },
                  "singleEntryCollapse": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indicates that the dynamic layer with a single layer entry should be rendered without the root group.",
                    "title": "[en]"
                  },
                  "layerEntries": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "index": {
                          "type": "number",
                          "description": "The index of the layer in the map service.",
                          "title": "[en]"
                        },
                        "name": {
                          "type": "string",
                          "description": "A descriptive name for the layer, can override the name coming from the service.",
                          "title": "[en]"
                        },
                        "outfields": {
                          "type": "string",
                          "default": "*",
                          "description": "A comma separated list of attribute names that should be requested on query.",
                          "title": "[en]"
                        },
                        "extent": {
                          "description": "Allows for overriding the bounding box supplied by the service.",
                          "title": "[en]",
                          "type": "object",
                          "properties": {
                            "xmin": {
                              "type": "number",
                              "title": "[en]"
                            },
                            "ymin": {
                              "type": "number",
                              "title": "[en]"
                            },
                            "xmax": {
                              "type": "number",
                              "title": "[en]"
                            },
                            "ymax": {
                              "type": "number",
                              "title": "[en]"
                            },
                            "spatialReference": {
                              "title": "[en]",
                              "type": "object",
                              "properties": {
                                "wkid": {
                                  "type": "number",
                                  "title": "[en]"
                                },
                                "vcsWkid": {
                                  "type": "number",
                                  "title": "[en]"
                                },
                                "latestWkid": {
                                  "type": "number",
                                  "title": "[en]"
                                },
                                "latestVcsWkid": {
                                  "type": "number",
                                  "title": "[en]"
                                },
                                "wkt": {
                                  "type": "string",
                                  "title": "[en]"
                                }
                              },
                              "anyOf": [
                                {
                                  "required": [
                                    "wkid"
                                  ]
                                },
                                {
                                  "required": [
                                    "vcsWkid"
                                  ]
                                },
                                {
                                  "required": [
                                    "latestWkid"
                                  ]
                                },
                                {
                                  "required": [
                                    "latestVcsWkid"
                                  ]
                                },
                                {
                                  "required": [
                                    "wkt"
                                  ]
                                }
                              ],
                              "additionalProperties": false,
                              "schema": "spatialReferenceNode"
                            }
                          },
                          "required": [
                            "xmin",
                            "ymin",
                            "xmax",
                            "ymax"
                          ],
                          "additionalProperties": false,
                          "schema": "extentWithReferenceNode"
                        },
                        "controls": {
                          "title": "[en]",
                          "type": "array",
                          "items": {
                            "type": "string",
                            "enum": [
                              "opacity",
                              "visibility",
                              "boundingBox",
                              "query",
                              "snapshot",
                              "metadata",
                              "boundaryZoom",
                              "refresh",
                              "reload",
                              "remove",
                              "settings",
                              "data",
                              "styles"
                            ]
                          },
                          "uniqueItems": true,
                          "description": "A list of all controls to be enabled on the specified layer",
                          "schema": "legendEntryControls"
                        },
                        "state": {
                          "title": "[en]",
                          "type": "object",
                          "properties": {
                            "opacity": {
                              "type": "number",
                              "default": 1,
                              "description": "initialLayerSettings.opacity.description",
                              "title": "[en]"
                            },
                            "visibility": {
                              "type": "boolean",
                              "default": true,
                              "description": "initialLayerSettings.visibility.description",
                              "title": "[en]"
                            },
                            "boundingBox": {
                              "type": "boolean",
                              "default": false,
                              "description": "initialLayerSettings.boundingBox.description",
                              "title": "[en]"
                            },
                            "query": {
                              "type": "boolean",
                              "default": true,
                              "description": "initialLayerSettings.query.description",
                              "title": "[en]"
                            },
                            "snapshot": {
                              "type": "boolean",
                              "default": false,
                              "description": "initialLayerSettings.snapshot.description",
                              "title": "[en]"
                            },
                            "hovertips": {
                              "type": "boolean",
                              "default": true,
                              "description": "initialLayerSettings.hovertips.description",
                              "title": "[en]"
                            }
                          },
                          "additionalProperties": false,
                          "schema": "initialLayerSettings"
                        },
                        "stateOnly": {
                          "type": "boolean",
                          "default": false,
                          "description": "A flag indicating this entry is only for state tracking (i.e. it should not be displayed on the UI and all of the controls will be ignored, but the layer itself will be displayed on the map with the given state settings).",
                          "title": "[en]"
                        },
                        "table": {
                          "description": "Settings for table panel",
                          "title": "[en]",
                          "type": "object",
                          "properties": {
                            "title": {
                              "type": "string",
                              "default": "",
                              "description": "Specifies the table title to apply.",
                              "title": "[en]"
                            },
                            "description": {
                              "type": "string",
                              "description": "Specifies the additional information to display in the setting panel to give more information about a table.",
                              "title": "[en]"
                            },
                            "maximize": {
                              "type": "boolean",
                              "default": false,
                              "description": "Specifies the default table size when first open. True: maximize view; False: split view.",
                              "title": "[en]"
                            },
                            "search": {
                              "enabled": {
                                "type": "boolean",
                                "default": true
                              },
                              "value": {
                                "type": "string",
                                "default": null,
                                "description": "Specifies the default filter to apply to a table (for global search)."
                              },
                              "title": "[en]"
                            },
                            "applyMap": {
                              "type": "boolean",
                              "default": false,
                              "description": "Specifies if the default filters (from columns filter) are apply to the map (definition query). True: it is applied; False: it is not applied.",
                              "title": "[en]"
                            },
                            "columns": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "data": {
                                    "type": "string",
                                    "description": "Specifies the field name (data) to use to link to the layer column. Must exist in the layer.",
                                    "title": "[en]"
                                  },
                                  "title": {
                                    "type": "string",
                                    "description": "Specifies the column title, uses the layer column name or alias if missing.",
                                    "title": "[en]"
                                  },
                                  "description": {
                                    "type": "string",
                                    "description": "Specifies the additional information to display in the setting panel to give more information about a column. Do not add description if missing.",
                                    "title": "[en]"
                                  },
                                  "visible": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Specifies if column is visible by default. True: column is visible; False: column is hidden.",
                                    "title": "[en]"
                                  },
                                  "width": {
                                    "type": "number",
                                    "description": "Specifies the column width. If missing, calculated column width will be use.",
                                    "title": "[en]"
                                  },
                                  "sort": {
                                    "type": "string",
                                    "enum": [
                                      "asc",
                                      "desc"
                                    ],
                                    "description": "Specifies if column is sort. If missing, no sort is applied.",
                                    "title": "[en]"
                                  },
                                  "searchable": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Specifies if column can be filter. True: column can be filter; False: no filter can be applied from global search or filter. If this is false, do not set a filter because it will not be use.",
                                    "title": "[en]"
                                  },
                                  "filter": {
                                    "title": "[en]",
                                    "type": "object",
                                    "description": "Specifies the filter information for a column.",
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "string",
                                          "number",
                                          "date",
                                          "selector"
                                        ],
                                        "description": "Specifies the filter type to use. If type is not specified, data field type will be use. String filter can be string or selector. Other filter must be the same type. If not, apply on map will fails.",
                                        "title": "[en]"
                                      },
                                      "value": {
                                        "type": "string",
                                        "default": "",
                                        "description": "Specifies the filter value. For date and number values are split by ',' (e.g. 0,100). For selector it needs an array like ["Fire",
                                        "title": "[en]"
                                      },
                                      "static": {
                                        "type": "boolean",
                                        "default": false,
                                        "description": "Specifies if filter is modifiable. True: filter value can't be modified; False: filter value can be modified.",
                                        "title": "[en]"
                                      }
                                    },
                                    "required": [
                                      "type"
                                    ],
                                    "additionalProperties": false,
                                    "schema": "filterNode"
                                  }
                                },
                                "required": [
                                  "data"
                                ],
                                "additionalProperties": false,
                                "description": "Specifies option for each column. OID field must be present, if not data will not appear. The order they appears inside the table is the same as the order of this array.",
                                "schema": "columnNode",
                                "title": "[en]"
                              },
                              "description": "Specifies the array of columns for the table. When there is an item in this array, it will be use to define wich and how column will be set for the table. If a column is not in the array it will be assume as disabled.",
                              "title": "[en]"
                            }
                          },
                          "additionalProperties": false,
                          "schema": "tableNode"
                        }
                      },
                      "required": [
                        "index"
                      ],
                      "additionalProperties": false,
                      "schema": "dynamicLayerEntryNode",
                      "title": "[en]"
                    },
                    "minItems": 1,
                    "title": "[en]"
                  },
                  "tolerance": {
                    "type": "number",
                    "default": 5,
                    "description": "Specifies the tolerance in pixels when determining if a feature was clicked. Should be non-negative integer",
                    "title": "[en]"
                  },
                  "extent": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "xmin": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "ymin": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "xmax": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "ymax": {
                        "type": "number",
                        "title": "[en]"
                      },
                      "spatialReference": {
                        "title": "[en]",
                        "type": "object",
                        "properties": {
                          "wkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "vcsWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "latestWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "latestVcsWkid": {
                            "type": "number",
                            "title": "[en]"
                          },
                          "wkt": {
                            "type": "string",
                            "title": "[en]"
                          }
                        },
                        "anyOf": [
                          {
                            "required": [
                              "wkid"
                            ]
                          },
                          {
                            "required": [
                              "vcsWkid"
                            ]
                          },
                          {
                            "required": [
                              "latestWkid"
                            ]
                          },
                          {
                            "required": [
                              "latestVcsWkid"
                            ]
                          },
                          {
                            "required": [
                              "wkt"
                            ]
                          }
                        ],
                        "additionalProperties": false,
                        "schema": "spatialReferenceNode"
                      }
                    },
                    "required": [
                      "xmin",
                      "ymin",
                      "xmax",
                      "ymax"
                    ],
                    "additionalProperties": false,
                    "schema": "extentWithReferenceNode"
                  },
                  "controls": {
                    "title": "[en]",
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "opacity",
                        "visibility",
                        "boundingBox",
                        "query",
                        "snapshot",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "data",
                        "styles"
                      ]
                    },
                    "uniqueItems": true,
                    "description": "A list of all controls to be enabled on the specified layer",
                    "schema": "legendEntryControls"
                  },
                  "disabledControls": {
                    "description": "A list of controls which are visible, but disabled for user modification",
                    "title": "[en]",
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "opacity",
                        "visibility",
                        "boundingBox",
                        "query",
                        "snapshot",
                        "metadata",
                        "boundaryZoom",
                        "refresh",
                        "reload",
                        "remove",
                        "settings",
                        "data",
                        "styles"
                      ]
                    },
                    "uniqueItems": true,
                    "schema": "legendEntryControls"
                  },
                  "state": {
                    "title": "[en]",
                    "type": "object",
                    "properties": {
                      "opacity": {
                        "type": "number",
                        "default": 1,
                        "description": "initialLayerSettings.opacity.description",
                        "title": "[en]"
                      },
                      "visibility": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.visibility.description",
                        "title": "[en]"
                      },
                      "boundingBox": {
                        "type": "boolean",
                        "default": false,
                        "description": "initialLayerSettings.boundingBox.description",
                        "title": "[en]"
                      },
                      "query": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.query.description",
                        "title": "[en]"
                      },
                      "snapshot": {
                        "type": "boolean",
                        "default": false,
                        "description": "initialLayerSettings.snapshot.description",
                        "title": "[en]"
                      },
                      "hovertips": {
                        "type": "boolean",
                        "default": true,
                        "description": "initialLayerSettings.hovertips.description",
                        "title": "[en]"
                      }
                    },
                    "additionalProperties": false,
                    "schema": "initialLayerSettings"
                  }
                },
                "required": [
                  "id",
                  "layerType",
                  "layerEntries",
                  "url"
                ],
                "additionalProperties": false,
                "schema": "dynamicLayerNode",
                "title": "[en]"
              }
            ],
            "schema": "layerNode",
            "title": "[en]"
          }
        ]
      },
      "minItems": 0,
      "schema": "layerList",
      "title": "[en]"
    },
    "legend": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "autopopulate"
              ],
              "title": "[en]"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": false,
          "schema": "legendAuto",
          "title": "[en]"
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "structured"
              ],
              "title": "[en]"
            },
            "root": {
              "title": "[en]",
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Title of the group",
                  "title": "[en]"
                },
                "expanded": {
                  "type": "boolean",
                  "default": true,
                  "title": "[en]"
                },
                "children": {
                  "type": "array",
                  "items": {
                    "oneOf": [
                      {
                        "type": "object",
                        "properties": {
                          "circRef": {
                            "title": "[en]"
                          }
                        },
                        "schema": "circular",
                        "title": "[en]"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "exclusiveVisibility": {
                            "type": "array",
                            "items": {
                              "oneOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "circRef": {
                                      "title": "[en]"
                                    }
                                  },
                                  "schema": "circular",
                                  "title": "[en]"
                                },
                                {
                                  "type": "object",
                                  "description": "",
                                  "properties": {
                                    "layerId": {
                                      "type": "string",
                                      "description": "Link to a layer defined in the layers section",
                                      "title": "[en]"
                                    },
                                    "hidden": {
                                      "type": "boolean",
                                      "default": false,
                                      "description": "Indicates that the legend block will be hidden from the UI and all its controls will be inaccessible to the user.",
                                      "title": "[en]"
                                    },
                                    "controlledIds": {
                                      "type": "array",
                                      "items": {
                                        "type": "string",
                                        "description": "Additional layer ids which are controlled by this layer"
                                      },
                                      "default": [],
                                      "title": "[en]"
                                    },
                                    "entryIndex": {
                                      "type": "integer",
                                      "description": "Index of the 'sublayer' in the case of an ESRI dynamic layer.  This cannot point to an entry with stateOnly:true .",
                                      "title": "[en]"
                                    },
                                    "entryId": {
                                      "type": "string",
                                      "description": "Id of the 'sublayer' in the case of an OGC WMS layer",
                                      "title": "[en]"
                                    },
                                    "coverIcon": {
                                      "type": "string",
                                      "description": "An optional icon, if present it will be used to primarily represent the layer",
                                      "title": "[en]"
                                    },
                                    "description": {
                                      "type": "string",
                                      "default": "",
                                      "description": "Optional description displayed above the symbology stack.",
                                      "title": "[en]"
                                    },
                                    "symbologyStack": {
                                      "title": "[en]",
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "image": {
                                            "type": "string"
                                          },
                                          "text": {
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "image",
                                          "text"
                                        ],
                                        "additionalProperties": false
                                      },
                                      "minItems": 1,
                                      "schema": "symbologyStack"
                                    },
                                    "symbologyRenderStyle": {
                                      "type": "string",
                                      "enum": [
                                        "icons",
                                        "images"
                                      ],
                                      "description": "An optional style, describes how the symbology stack should be rendered",
                                      "title": "[en]"
                                    }
                                  },
                                  "required": [
                                    "layerId"
                                  ],
                                  "additionalProperties": false,
                                  "schema": "entry",
                                  "title": "[en]"
                                }
                              ]
                            },
                            "minItems": 1,
                            "title": "[en]"
                          }
                        },
                        "required": [
                          "exclusiveVisibility"
                        ],
                        "additionalProperties": false,
                        "schema": "visibilitySet",
                        "title": "[en]"
                      },
                      {
                        "type": "object",
                        "description": "",
                        "properties": {
                          "layerId": {
                            "type": "string",
                            "description": "Link to a layer defined in the layers section",
                            "title": "[en]"
                          },
                          "hidden": {
                            "type": "boolean",
                            "default": false,
                            "description": "Indicates that the legend block will be hidden from the UI and all its controls will be inaccessible to the user.",
                            "title": "[en]"
                          },
                          "controlledIds": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "description": "Additional layer ids which are controlled by this layer"
                            },
                            "default": [],
                            "title": "[en]"
                          },
                          "entryIndex": {
                            "type": "integer",
                            "description": "Index of the 'sublayer' in the case of an ESRI dynamic layer.  This cannot point to an entry with stateOnly:true .",
                            "title": "[en]"
                          },
                          "entryId": {
                            "type": "string",
                            "description": "Id of the 'sublayer' in the case of an OGC WMS layer",
                            "title": "[en]"
                          },
                          "coverIcon": {
                            "type": "string",
                            "description": "An optional icon, if present it will be used to primarily represent the layer",
                            "title": "[en]"
                          },
                          "description": {
                            "type": "string",
                            "default": "",
                            "description": "Optional description displayed above the symbology stack.",
                            "title": "[en]"
                          },
                          "symbologyStack": {
                            "title": "[en]",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "image": {
                                  "type": "string"
                                },
                                "text": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "image",
                                "text"
                              ],
                              "additionalProperties": false
                            },
                            "minItems": 1,
                            "schema": "symbologyStack"
                          },
                          "symbologyRenderStyle": {
                            "type": "string",
                            "enum": [
                              "icons",
                              "images"
                            ],
                            "description": "An optional style, describes how the symbology stack should be rendered",
                            "title": "[en]"
                          }
                        },
                        "required": [
                          "layerId"
                        ],
                        "additionalProperties": false,
                        "schema": "entry",
                        "title": "[en]"
                      },
                      {
                        "oneOf": [
                          {
                            "type": "object",
                            "properties": {
                              "infoType": {
                                "type": "string",
                                "enum": [
                                  "title"
                                ]
                              },
                              "content": {
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "infoType": {
                                "type": "string",
                                "enum": [
                                  "image"
                                ]
                              },
                              "content": {
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "infoType": {
                                "type": "string",
                                "enum": [
                                  "unboundLayer"
                                ]
                              },
                              "layerName": {
                                "type": "string",
                                "description": "Name to display in legend"
                              },
                              "description": {
                                "type": "string",
                                "default": "",
                                "description": "Optional description displayed above the symbology stack."
                              },
                              "symbologyStack": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "image": {
                                      "type": "string"
                                    },
                                    "text": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "image",
                                    "text"
                                  ],
                                  "additionalProperties": false
                                },
                                "minItems": 1,
                                "schema": "symbologyStack",
                                "title": "[en]"
                              },
                              "symbologyRenderStyle": {
                                "type": "string",
                                "enum": [
                                  "icons",
                                  "images"
                                ],
                                "description": "An optional style, describes how the symbology stack should be rendered"
                              }
                            },
                            "additionalProperties": false
                          },
                          {
                            "type": "object",
                            "properties": {
                              "infoType": {
                                "type": "string",
                                "enum": [
                                  "text"
                                ]
                              },
                              "content": {
                                "type": "string"
                              }
                            },
                            "additionalProperties": false
                          }
                        ],
                        "required": [
                          "infoType",
                          "content"
                        ],
                        "schema": "infoSection",
                        "title": "[en]"
                      }
                    ]
                  },
                  "minItems": 1,
                  "title": "[en]"
                },
                "controls": {
                  "title": "[en]",
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "opacity",
                      "visibility",
                      "symbology",
                      "query",
                      "reload",
                      "remove",
                      "settings"
                    ]
                  },
                  "uniqueItems": true,
                  "description": "A list of all controls to be enabled on the specified group",
                  "schema": "legendGroupControls"
                },
                "disabledControls": {
                  "title": "[en]",
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "opacity",
                      "visibility",
                      "symbology",
                      "query",
                      "reload",
                      "remove",
                      "settings"
                    ]
                  },
                  "uniqueItems": true,
                  "description": "A list of all controls to be enabled on the specified group",
                  "schema": "legendGroupControls"
                }
              },
              "required": [
                "name",
                "children"
              ],
              "additionalProperties": false,
              "schema": "entryGroup"
            }
          },
          "required": [
            "type",
            "root"
          ],
          "additionalProperties": false,
          "schema": "legendStructured",
          "title": "[en]"
        }
      ],
      "description": "A structured or automatically generated legend",
      "title": "[en]"
    }
  },
  "required": [
    "tileSchemas",
    "baseMaps"
  ],
  "schema": "map",
  "title": "[en]"
}